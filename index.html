<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Certificados - Loja Monte Sinai</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="loginScreen" class="screen">
        <div class="login-container">
            <h1>Sistema de Certificados</h1>
            <h2>Loja Simb√≥lica Monte Sinai</h2>
            <form id="loginForm">
                <input type="text" id="username" placeholder="Usu√°rio" required>
                <input type="password" id="password" placeholder="Senha" required>
                <button type="submit">Entrar</button>
                <div id="loginError" class="error"></div>
            </form>
        </div>
    </div>

    <div id="mainScreen" class="screen" style="display: none;">
        <div class="header">
            <h1>Gerador de Certificados de Presen√ßa</h1>
            <button id="logoutBtn" class="logout-btn">Sair</button>
        </div>

        <div class="container">
            <div class="tabs">
                <button class="tab-btn active" data-tab="generate">Gerar Certificado</button>
                <button class="tab-btn" data-tab="manage">Gerenciar Dados</button>
                <button class="tab-btn" data-tab="config">Configura√ß√µes API</button>
            </div>

            <div id="generateTab" class="tab-content active">
                <form id="certificateForm">
                    <div class="form-group">
                        <label>Tipo de Sess√£o:</label>
                        <div class="input-with-suggestions">
                            <input type="text" id="sessaoInput" list="sessaoList" required>
                            <datalist id="sessaoList"></datalist>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Grau:</label>
                        <div class="input-with-suggestions">
                            <input type="text" id="grauInput" list="grauList" required>
                            <datalist id="grauList"></datalist>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Nome do Irm√£o:</label>
                        <div class="input-with-suggestions">
                            <input type="text" id="nomeInput" list="nomeList" required>
                            <datalist id="nomeList"></datalist>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Obreiro da Loja:</label>
                        <div class="input-with-suggestions">
                            <input type="text" id="obreiroInput" list="obreiroList" required>
                            <datalist id="obreiroList"></datalist>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Pot√™ncia:</label>
                        <div class="input-with-suggestions">
                            <input type="text" id="potenciaInput" list="potenciaList" required>
                            <datalist id="potenciaList"></datalist>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Data:</label>
                        <input type="date" id="dataInput" required>
                    </div>

                    <div class="button-group">
                        <button type="submit" class="btn-primary">Visualizar Certificado</button>
                    </div>
                </form>
            </div>

            <div id="manageTab" class="tab-content">
                <div class="manage-section">
                    <h3>Adicionar Novos Dados</h3>
                    
                    <div class="add-form">
                        <h4>Sess√µes</h4>
                        <div class="add-item">
                            <input type="text" id="newSessao" placeholder="Ex: Magna de Inicia√ß√£o">
                            <button onclick="addItem('sessao')">Adicionar</button>
                        </div>
                        <ul id="sessaoListView" class="data-list"></ul>
                    </div>

                    <div class="add-form">
                        <h4>Graus</h4>
                        <div class="add-item">
                            <input type="text" id="newGrau" placeholder="Ex: 1¬∫">
                            <button onclick="addItem('grau')">Adicionar</button>
                        </div>
                        <ul id="grauListView" class="data-list"></ul>
                    </div>

                    <div class="add-form">
                        <h4>Nomes dos Irm√£os</h4>
                        <div class="add-item">
                            <input type="text" id="newNome" placeholder="Nome completo">
                            <button onclick="addItem('nome')">Adicionar</button>
                        </div>
                        <ul id="nomeListView" class="data-list"></ul>
                    </div>

                    <div class="add-form">
                        <h4>Obreiros</h4>
                        <div class="add-item">
                            <input type="text" id="newObreiro" placeholder="Ex: A‚à¥R‚à¥L‚à¥">
                            <button onclick="addItem('obreiro')">Adicionar</button>
                        </div>
                        <ul id="obreiroListView" class="data-list"></ul>
                    </div>

                    <div class="add-form">
                        <h4>Pot√™ncias</h4>
                        <div class="add-item">
                            <input type="text" id="newPotencia" placeholder="Ex: S‚à¥ SANTO GRAAL n¬∫ 4690 do GOB-RS">
                            <button onclick="addItem('potencia')">Adicionar</button>
                        </div>
                        <ul id="potenciaListView" class="data-list"></ul>
                    </div>
                </div>
            </div>

            <div id="configTab" class="tab-content">
                <div class="config-section">
                    <h3>‚öôÔ∏è Configura√ß√µes de API</h3>
                    <p class="config-info">Configure as credenciais para envio autom√°tico de certificados via WhatsApp e E-mail.</p>
                    
                    <div class="config-form">
                        <h4>üìß EmailJS</h4>
                        <p class="service-info">
                            <a href="https://www.emailjs.com/" target="_blank">Criar conta gratuita no EmailJS</a>
                        </p>
                        <div class="form-group">
                            <label>Service ID:</label>
                            <input type="text" id="emailjsServiceId" placeholder="seu_service_id">
                        </div>
                        <div class="form-group">
                            <label>Template ID:</label>
                            <input type="text" id="emailjsTemplateId" placeholder="seu_template_id">
                        </div>
                        <div class="form-group">
                            <label>Public Key:</label>
                            <input type="text" id="emailjsPublicKey" placeholder="sua_public_key">
                        </div>
                    </div>

                    <div class="config-form">
                        <h4>üì± Twilio WhatsApp</h4>
                        <p class="service-info">
                            <a href="https://www.twilio.com/console" target="_blank">Criar conta no Twilio</a> (requer verifica√ß√£o)
                        </p>
                        <div class="form-group">
                            <label>Account SID:</label>
                            <input type="text" id="twilioAccountSid" placeholder="seu_account_sid">
                        </div>
                        <div class="form-group">
                            <label>Auth Token:</label>
                            <input type="password" id="twilioAuthToken" placeholder="seu_auth_token">
                        </div>
                        <div class="form-group">
                            <label>WhatsApp Number (formato: +5551999999999):</label>
                            <input type="text" id="twilioWhatsappNumber" placeholder="+5551999999999">
                        </div>
                    </div>

                    <div class="button-group">
                        <button id="saveConfigBtn" class="btn-primary">Salvar Configura√ß√µes</button>
                        <button id="testConfigBtn" class="btn-secondary">Testar Conex√µes</button>
                    </div>
                    <div id="configStatus" class="config-status"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="certificatePreview" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="certificate" class="certificate">
                <div class="certificate-border">
                    <div class="certificate-inner">
                        <div class="certificate-header">
                            <div class="logo-container">
                                <img src="logo.png" alt="Monte Sinai Logo" class="logo-img">
                            </div>
                            <div class="header-text">
                                <h2 class="title-top">Augusta Respeit√°vel Benfeitora e Excelsa</h2>
                                <h1 class="title-main">Loja Simb√≥lica Monte Sinai</h1>
                                <div class="divider"></div>
                                <p class="subtitle">Rito Adonhiramita ‚Äì Centro Templ√°rio ‚Äì Or‚à¥de Porto Alegre, RS</p>
                                <p class="founded">Fundada em 24 de junho de 1977 ‚Äì Sess√µes √†s segundas-feiras</p>
                                <p class="grande-oriente">Grande Oriente do Rio Grande do Sul ‚Äì GORGS</p>
                            </div>
                        </div>

                        <div class="certificate-body">
                            <div class="body-decoration top-decoration"></div>
                            <p class="certificate-text">
                                Certifico que abrilhantou a sess√£o <span id="certSessao" class="highlight"></span> de grau <span id="certGrau" class="highlight"></span> o Am‚à¥ Ir‚à¥ <strong id="certNome" class="name"></strong> <span id="certObreiro" class="highlight"></span> obreiro da <span id="certPotencia" class="highlight"></span> na data <span id="certData" class="highlight"></span> da E‚à¥V‚à¥.
                            </p>
                            <div class="body-decoration bottom-decoration"></div>
                        </div>

                        <div class="signatures">
                            <img src="assinaturas.png" alt="Assinaturas" class="signatures-img">
                        </div>
                    </div>
                </div>
            </div>
            <div class="action-buttons">
                <button id="downloadPdfBtn" class="btn-action btn-download">
                    <span class="btn-icon">üì•</span> Baixar PDF
                </button>
                <button id="shareWhatsappBtn" class="btn-action btn-whatsapp">
                    <span class="btn-icon">üì±</span> Compartilhar WhatsApp
                </button>
                <button id="shareEmailBtn" class="btn-action btn-email">
                    <span class="btn-icon">üìß</span> Enviar por E-mail
                </button>
            </div>
        </div>
    </div>

    <div id="sendModal" class="modal" style="display: none;">
        <div class="modal-content send-modal-content">
            <span class="close" id="closeSendModal">&times;</span>
            <h2 id="sendModalTitle">Enviar Certificado</h2>
            <form id="sendForm">
                <div class="form-group">
                    <label id="sendModalLabel">Destinat√°rio:</label>
                    <input type="text" id="sendRecipient" required>
                    <small id="sendModalHint" class="hint-text"></small>
                </div>
                <div class="button-group">
                    <button type="submit" class="btn-primary" id="confirmSendBtn">Enviar</button>
                    <button type="button" class="btn-secondary" id="cancelSendBtn">Cancelar</button>
                </div>
                <div id="sendStatus" class="send-status"></div>
            </form>
        </div>
    </div>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
